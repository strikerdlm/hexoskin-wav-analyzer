---
description: Always use these rules when doing statistical analysis and data science
globs: 
alwaysApply: false
---

1. import and Consolidate Data: Use Python’s pandas (and glob if handling multiple files) to load and merge data, ensuring schema consistency. There is a new file to load called merged_data.db to load using sql3
2. Do not apply the changes to the cells in the jupyter notebook, just create the code so I can copy, paste and execute each cell
3. Clean and Preprocess Data: Identify and address missing values, outliers, and data type issues. This step is crucial to avoid biased results.
4. Perform Exploratory Data Analysis (EDA): Generate descriptive statistics and plots (histograms, scatter plots, box plots) using matplotlib to understand distributions and potential relationships.
5. Conduct Statistical Testing: Based on EDA findings, select appropriate statistical tests (e.g., t-tests, correlation analyses, regression models) while rigorously checking model assumptions.
6. Visualize Results: Create clear, annotated plots with matplotlib to depict trends and regression lines that includes text output with the statistical tests results in detail that include ready for publications results.
7. Include confidence intervals or error bars to illustrate uncertainty.
8. Interpret Results at a Graduate Level:
    - Report statistical measures (e.g., R-squared, p-values, confidence intervals) and explain their scientific significance.
    - Discuss diagnostic checks (such as normality and residual analyses) and acknowledge any limitations or potential biases.
    - State that while significant relationships (e.g., a statistically significant positive correlation between key variables) have been identified, further work is needed to confirm findings and address any residual uncertainties.
9. Example for text output results:
    
    - Describe results quantitatively, with precise statistical details (e.g., mean ± SD, p-values).
    - Use terminology like "statistically significant," "confidence intervals," and "effect size" to present findings.
    - Highlight relationships and trends using phrases like "positively correlated," "negatively associated," or "not statistically different."
    - The general format for reporting statistical test results is: Test name (degrees of freedom) = test statistic, p-value, 95% CI [lower bound, upper bound]**
	    - For example:
			- t-test: t(58) = 2.61, p = 0.011, 95% CI [0.12, 0.89]
			- ANOVA: F(2, 147) = 3.32, p = 0.039, 95% CI [0.02, 0.15]
			- Chi-square: χ²(3) = 8.97, p = 0.03, 95% CI [0.05, 0.22]
		- **Test Name**: Always report the specific statistical test used.
		- **Degrees of Freedom (df)**: Include in parentheses after the test name.
		- **Test Statistic**: Report the calculated value of the test statistic (e.g., t, F, χ²).
		- **p-value**: Always report the exact p-value, unless it's very small (e.g., p < 0.001).
		- **Confidence Interval (CI)**: Whenever possible, include the 95% CI to provide information about the precision of the estimate.
		- **Effect Sizes**: It's increasingly recommended to report effect sizes along with p-values to indicate the magnitude of the effect.
		- **Formatting**: Use italics for test statistics (t, F, χ²) and lowercase for "p".
		- **Precision**: Report p-values to two or three decimal places, unless they are very small
		- **Non-significant Results**: Report these in the same detail as significant results to avoid publication bias
		

